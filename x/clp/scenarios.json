[
    {
        "name": "parity pool with 10% rate applied each block from from 1 to 40",
        "create_balance": true,
        "create_pool": true,
        "create_lps": true,
        "pool_asset": "eth",
        "address": "sif1syavy2npfyt9tcncdtsdzf7kny9lh777yqc2nd",
        "native_balance": "1000000000000000000",
        "external_balance": "1000000000000000000",
        "native_asset_amount": "1000",
        "external_asset_amount": "1000",
        "pool_units": "1000",
        "pool_asset_decimals": 18,
        "pool_asset_permissions": [
            1
        ],
        "native_asset_permissions": [
            1
        ],
        "params": {
            "pmtp_period_governance_rate": "0.10",
            "pmtp_period_epoch_length": 1,
            "pmtp_period_start_block": 1,
            "pmtp_period_end_block": 40
        },
        "epoch": {
            "epoch_counter": 0,
            "block_counter": 0
        },
        "expected_states": [
            {
                "height": 1,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "1000",
                    "external_asset_balance": "1000",
                    "pool_units": "1000",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "1.097803295605500089",
                "swap_price_external": "0.907275450913636290",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.100000000000000089",
                    "pmtp_current_running_rate": "0.100000000000000089",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 2,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "1000",
                    "external_asset_balance": "1000",
                    "pool_units": "1000",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "1.207583625166050196",
                "swap_price_external": "0.824795864466942015",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.100000000000000089",
                    "pmtp_current_running_rate": "0.210000000000000196",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 10,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "1000",
                    "external_asset_balance": "1000",
                    "pool_units": "1000",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "2.588562746045181268",
                "swap_price_external": "0.384773357940295220",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.100000000000000089",
                    "pmtp_current_running_rate": "1.593742460100002100",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 20,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "1000",
                    "external_asset_balance": "1000",
                    "pool_units": "1000",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "6.714065105050445440",
                "swap_price_external": "0.148346786105147937",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.100000000000000089",
                    "pmtp_current_running_rate": "5.727499949325610983",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 40,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "1000",
                    "external_asset_balance": "1000",
                    "pool_units": "1000",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "45.168872653995724681",
                "swap_price_external": "0.022050804492390781",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.100000000000000089",
                    "pmtp_current_running_rate": "44.259255568176098344",
                    "pmtp_inter_policy_rate": "44.259255568176098344"
                }
            },
            {
                "height": 41,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "1000",
                    "external_asset_balance": "1000",
                    "pool_units": "1000",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "45.168872653995724681",
                "swap_price_external": "0.022050804492390781",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.100000000000000089",
                    "pmtp_current_running_rate": "44.259255568176098344",
                    "pmtp_inter_policy_rate": "44.259255568176098344"
                }
            },
            {
                "height": 60,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "1000",
                    "external_asset_balance": "1000",
                    "pool_units": "1000",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "45.168872653995724681",
                "swap_price_external": "0.022050804492390781",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.100000000000000089",
                    "pmtp_current_running_rate": "44.259255568176098344",
                    "pmtp_inter_policy_rate": "44.259255568176098344"
                }
            }
        ]
    },
    {
        "name": "eth with prod settings with 2% rate applied incrementally every 14400 blocks from 211 to 72211",
        "create_balance": true,
        "create_pool": true,
        "create_lps": true,
        "pool_asset": "eth",
        "address": "sif1syavy2npfyt9tcncdtsdzf7kny9lh777yqc2nd",
        "native_balance": "1000000000000000000",
        "external_balance": "1000000000000000000",
        "native_asset_amount": "49352380611368792060339203",
        "external_asset_amount": "1576369012576526264262",
        "pool_units": "49352380611368792060339203",
        "pool_asset_decimals": 18,
        "pool_asset_permissions": [
            1
        ],
        "native_asset_permissions": [
            1
        ],
        "params": {
            "pmtp_period_governance_rate": "0.02",
            "pmtp_period_epoch_length": 14400,
            "pmtp_period_start_block": 211,
            "pmtp_period_end_block": 72210
        },
        "epoch": {
            "epoch_counter": 0,
            "block_counter": 0
        },
        "expected_states": [
            {
                "height": 1,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000031941094000000",
                "swap_price_external": "31307.631790289925000000",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000000000000000000",
                    "pmtp_current_running_rate": "0.000000000000000000",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 210,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000031941094000000",
                "swap_price_external": "31307.631790289925000000",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000000000000000000",
                    "pmtp_current_running_rate": "0.000000000000000000",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 211,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000031941137924862",
                "swap_price_external": "31307.588736613703321215",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.000001375183396712",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 212,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000031941181849785",
                "swap_price_external": "31307.545682996688273445",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.000002750368684553",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 300,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000031945047479523",
                "swap_price_external": "31303.757196542919635968",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.000123774079982746",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 1000,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000031975813473333",
                "swap_price_external": "31273.637831450397791530",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.001086984476278008",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 10500,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000032396293604913",
                "swap_price_external": "30867.728948455950807667",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.014251221480159420",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 14400,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000032570508539440",
                "swap_price_external": "30702.621935427036725478",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.019705478448561475",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 14401,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000032570553329863",
                "swap_price_external": "30702.579713749178142746",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.019706880730604974",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 28800,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000033221918710241",
                "swap_price_external": "30100.609740604138791084",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.040099588017899085",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 43200,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000033886357084458",
                "swap_price_external": "29510.401706464250675542",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.060901579778630775",
                    "pmtp_inter_policy_rate": "0.000000000000000000"
                }
            },
            {
                "height": 72211,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000035265548718669",
                "swap_price_external": "28356.286695226170141086",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.104080803201944594",
                    "pmtp_inter_policy_rate": "0.104080803201944594"
                }
            },
            {
                "height": 72212,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000035265548718669",
                "swap_price_external": "28356.286695226170141086",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.104080803201944594",
                    "pmtp_inter_policy_rate": "0.104080803201944594"
                }
            },
            {
                "height": 100000,
                "pool": {
                    "external_asset": {
                        "symbol": "eth"
                    },
                    "native_asset_balance": "49352380611368792060339203",
                    "external_asset_balance": "1576369012576526264262",
                    "pool_units": "49352380611368792060339203",
                    "native_custody": "0",
                    "external_custody": "0",
                    "native_liabilities": "0",
                    "external_liabilities": "0",
                    "health": "0",
                    "interest_rate": "0.000000000000000000",
                    "reward_period_native_distributed": "0"
                },
                "swap_price_native": "0.000035265548718669",
                "swap_price_external": "28356.286695226170141086",
                "pmtp_rate_params": {
                    "pmtp_period_block_rate": "0.000001375183396712",
                    "pmtp_current_running_rate": "0.104080803201944594",
                    "pmtp_inter_policy_rate": "0.104080803201944594"
                }
            }
        ]
    }
]