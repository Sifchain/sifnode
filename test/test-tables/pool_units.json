{
  "_info": {
    "desc": "Inputs and expected results for calculating pool units.",
    "r": "native asset added",
    "a": "external asset added",
    "R": "native Balance (before)",
    "A": "external Balance (before)",
    "P": "existing Pool Units"
  },
  "PoolUnits": [
    {
      "r": "1000000000",
      "a": "1000000000",
      "R": "0",
      "A": "0",
      "P": "0",
      "expected": "1000000000"
    },
    {
      "r": "1000000000",
      "a": "10000000000000000000000000",
      "R": "10000000000000000000000000",
      "A": "10000000000000000000000000",
      "P": "10000000000000000000000000",
      "expected": "2500000000000001000000000"
    },
    {
      "r": "1000000000",
      "a": "0",
      "R": "11000000000000000000",
      "A": "100000100000000000000",
      "P": "1100000000",
      "expected": "0"
    },
    {
      "r": "100000000000000000000000000",
      "a": "10000000000",
      "R": "111000000000000000000000",
      "A": "111000000000000000000000000",
      "P": "11100000000000000000",
      "expected": "2501386730364647846171"
    },
    {
      "r": "0",
      "a": "0",
      "R": "11110000000000000000",
      "A": "11100000000001000000",
      "P": "11110000000000000000",
      "expected": "error"
    },
    {
      "r": "1000000000000000000",
      "a": "1000000000000000000",
      "R": "1000000000000000000",
      "A": "1000000000000000000",
      "P": "1000000000000000000",
      "expected": "1000000000000000000"
    },
    {
      "r": "10000000000000000000000",
      "a": "10000000000000000000000",
      "R": "10000000000000000000000",
      "A": "10000000000000000000000",
      "P": "1000000000000000000000000",
      "expected": "1000000000000000000000000"
    },
    {
      "r": "100000000000000",
      "a": "10000000000000000000",
      "R": "11111110000000000000000",
      "A": "1001111110",
      "P": "11111110000000000000000",
      "expected": "1004445660164636700075723"
    },
    {
      "r": "10000000000000000000000",
      "a": "1000000000000000000000000",
      "R": "0",
      "A": "0",
      "P": "0",
      "expected": "10000000000000000000000"
    },
    {
      "r": "100000000000000000000000",
      "a": "10000000000000000000000000",
      "R": "10000000000000000000000",
      "A": "1000000000000000000000000",
      "P": "10000000000000000000000",
      "expected": "100000000000000000000000"
    },
    {
      "r": "1000000000000000000000000",
      "a": "100000000000000000000000000",
      "R": "110000000000000000000000",
      "A": "11000000000000000000000000",
      "P": "110000000000000000000000",
      "expected": "1000000000000000000000000"
    },
    {
      "r": "10000000000000000000000000",
      "a": "1000000000000000000000000000",
      "R": "1110000000000000000000000",
      "A": "111000000000000000000000000",
      "P": "1110000000000000000000000",
      "expected": "10000000000000000000000000"
    },
    {
      "r": "100000000000000000000000000",
      "a": "10000000000000000000000000000",
      "R": "11110000000000000000000000",
      "A": "1111000000000000000000000000",
      "P": "11110000000000000000000000",
      "expected": "100000000000000000000000000"
    },
    {
      "r": "1000000000000000000000000000",
      "a": "100000000000000000000000000000",
      "R": "111110000000000000000000000",
      "A": "11111000000000000000000000000",
      "P": "111110000000000000000000000",
      "expected": "1000000000000000000000000000"
    },
    {
      "r": "10000000000000000000000000000",
      "a": "1000000000000000000000000000000",
      "R": "1111110000000000000000000000",
      "A": "111111000000000000000000000000",
      "P": "1111110000000000000000000000",
      "expected": "10000000000000000000000000000"
    },
    {
      "r": "100000000000000000000000000000",
      "a": "10000000000000000000000000000000",
      "R": "11111110000000000000000000000",
      "A": "1111111000000000000000000000000",
      "P": "11111110000000000000000000000",
      "expected": "100000000000000000000000000000"
    },
    {
      "r": "5000000000000000000000000000",
      "a": "10000000000000",
      "R": "0",
      "A": "0",
      "P": "0",
      "expected": "5000000000000000000000000000"
    },
    {
      "r": "5000000000000000000000000000",
      "a": "10000000000000",
      "R": "5000000000000000000000000000",
      "A": "10000000000000",
      "P": "5000000000000000000000000000",
      "expected": "5000000000000000000000000000"
    },
    {
      "r": "5000000000000000000000000000",
      "a": "100000000000000000000",
      "R": "5000000000000000000000000000",
      "A": "10000000000000",
      "P": "5000000000000000000000000000",
      "expected": "16666670000000000000000000000000000"
    },
    {
      "r": "5000000000000000000000000000",
      "a": "1000000000000000000000000",
      "R": "5000000000000000000000000000",
      "A": "10000000000000000000",
      "P": "5000000000000000000000000000",
      "expected": "166670000000000000000000000000000"
    },
    {
      "r": "5000000000000000000000000",
      "a": "100000000000000000000000",
      "R": "0",
      "A": "0",
      "P": "0",
      "expected": "5000000000000000000000000"
    },
    {
      "r": "10000000000000000000000",
      "a": "100000000000000000000000",
      "R": "5000000000000000000000000",
      "A": "100000000000000000000000",
      "P": "5000000000000000000000000",
      "expected": "1259985059760956175298805"
    },
    {
      "r": "100000000000000000000000",
      "a": "100000000000000000000000",
      "R": "5000000000000000000000000",
      "A": "200000000000000000000000",
      "P": "6250000000000000000000000",
      "expected": "1125000000000000000000000"
    },
    {
      "r": "70000000000000000000000",
      "a": "7000000000",
      "R": "80000000164500000000",
      "A": "90055639000000006",
      "P": "30201859944700000000",
      "expected": "6610430440181671681409"
    },
    {
      "r": "456500000000",
      "a": "6565600000000",
      "R": "80000000165200000000",
      "A": "90055640300000000",
      "P": "30201860062200000000",
      "expected": "1100954899484009"
    },
    {
      "r": "900000000000000000000000",
      "a": "100000000000",
      "R": "100000000000",
      "A": "1800000000000000000000000",
      "P": "100000000000",
      "expected": "225000000000025000000000"
    },
    {
      "r": "60000000000",
      "a": "9000000000000000000",
      "R": "900000000000100000000000",
      "A": "1800000000000000000000000",
      "P": "225000000000110000000000",
      "expected": "562497195014337429"
    },
    {
      "r": "5000000000000",
      "a": "700000000000",
      "R": "9000000000001600000000000",
      "A": "1800009000000000000000000",
      "P": "225000562497310000000000",
      "expected": "106250046874"
    },
    {
      "r": "80000000008",
      "a": "80000000008",
      "R": "900000000000000000000516",
      "A": "180000000000000900000070",
      "P": "22500000000000056249798",
      "expected": "6000000001"
    },
    {
      "r": "12000000000300030003",
      "a": "90023232323232233300",
      "R": "900000000000000000604",
      "A": "1800000000900000158",
      "P": "2250000000056249814",
      "expected": "2550718717118567489"
    },
    {
      "r": "9900000099",
      "a": "70080000007",
      "R": "90000000000000000604",
      "A": "180000000000900090158",
      "P": "22000000500056255439",
      "expected": "5492666802"
    },
    {
      "r": "1000000000000000000000000000000000",
      "a": "1000000000000000000000000000000000",
      "R": "1000000000000000000000000000000000",
      "A": "1000000000000000000000000000000000",
      "P": "1000000000000000000000000000000000",
      "expected": "1000000000000000000000000000000000"
    },
    {
      "r": "1000000000",
      "a": "0",
      "R": "1000000000",
      "A": "1000000000",
      "P": "1000000000",
      "expected": "333333333"
    },
    {
      "r": "0",
      "a": "1000000000",
      "R": "1000000000",
      "A": "1000000000",
      "P": "1000000000",
      "expected": "250000000"
    },
    {
      "r": "0",
      "a": "1000000000000000000000000000000000",
      "R": "1000000000000000000000000000000000",
      "A": "1000000000000000000000000000000000",
      "P": "1000000000000000000000000000000000",
      "expected": "250000000000000000000000000000000"
    },
    {
      "r": "100000",
      "a": "100000",
      "R": "100000000000000000000",
      "A": "100000000000000000000",
      "P": "100000000000000000000",
      "expected": "error"
    },
    {
      "r": "1000000000000",
      "a": "100000",
      "R": "100000000000000000000",
      "A": "100000000000000000000",
      "P": "100000000000000000000",
      "expected": "error"
    },
    {
      "r": "100000",
      "a": "1000000000000",
      "R": "100000000000000000000",
      "A": "100000000000000000000",
      "P": "100000000000000000000",
      "expected": "error"
    },
    {
      "r": "162057826929020210025062784",
      "a": "100000000000000000000000000000",
      "R": "0",
      "A": "0",
      "P": "0",
      "expected": "162057826929020210025062784"
    },
    {
      "r": "1000000000000000000000",
      "a": "899999867990000000000000000000",
      "R": "162057826929020210025062784",
      "A": "100000000000000000000000000000",
      "P": "162057826929020210025062784",
      "expected": "72934620947434828436174429"
    }
  ]
}