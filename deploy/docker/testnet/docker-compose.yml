version: '3'

services:
  sifnode:
    image: sifchain/sifnoded:testnet-genesis
    ports:
      - 26656:26656
      - 26657:26657
    environment:
      CHAINNET: testnet
      MONIKER: ${MONIKER}
      MNEMONIC: ${MNEMONIC}
      PEER_ADDRESSES: c3daf4bdd3c559c2526c623a645527eddecd6f9b@23.22.36.176:26656,d6d42f91bc929e558bf91244817020b7bb32f805@34.255.13.11:26656,c52bd4220f26ffc288ab71cea679475cbf5dceb4@13.211.185.78:26656,3498e30c1efc4641fd69899b669e20ae08356743@18.139.47.203:26656
      GENESIS_URL: https://rpc-testnet.sifchain.finance/genesis
      GAS_PRICE: ${GAS_PRICE}
      BIND_IP_ADDRESS: ${BIND_IP_ADDRESS}
      DAEMON_NAME: sifnoded
      DAEMON_HOME: /root/.sifnoded
      DAEMON_ALLOW_DOWNLOAD_BINARIES: "true"
      DAEMON_RESTART_AFTER_UPGRADE: "true"
    volumes:
      - .:/root:Z
      - ../scripts:/root/scripts:Z
    command: /root/scripts/entrypoint.sh
